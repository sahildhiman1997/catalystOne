!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};e[o].call(i.exports,i,i.exports,n);i.l=!0;return i.exports}n.m=e;n.c=t;n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})};n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="//static.hsappstatic.net/HubspotToolsMenu/static-1.9/";n(n.s=0)}([function(e,t,n){"use strict";"use es6";var o=s(n(1)),i=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){new o.default(window.hsVars).showToolsMenuIfAuthor();(new i.default).setup()},!1)},function(e,t,n){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(e,o.key,o)}}return function(t,n,o){n&&e(t.prototype,n);o&&e(t,o);return t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t){i(this,e);this.baseUrl=t.app_hs_base_url;this.contentId=t.page_id;this.categoryId=t.category_id;this.contentGroupId=t.content_group_id;this.portalId=t.portal_id}o(e,[{key:"createElementFromHTML",value:function(e){var t=document.createElement("div");t.innerHTML=e.trim();return t.firstChild}},{key:"jsonp",value:function(e,t){window.jsonpHandler=function(e){t(e)};var n=e+(-1!==e.indexOf("?")?"&":"?")+"callback=jsonpHandler",o=document.createElement("script");o.type="text/javascript";o.async=!0;o.src=n;document.getElementsByTagName("head")[0].appendChild(o)}},{key:"showToolsMenuIfAuthor",value:function(){var e=this;if(window.location===window.parent.location){var t=void 0,n=this.contentId;if(this.contentId&&this.contentGroupId)t=6===this.categoryId?"knowledge-articles":"blog-posts";else if(this.contentGroupId){t=6===this.categoryId?"knowledge-bases":"blogs";n=this.contentGroupId}else t="landing-pages";var o=this.baseUrl+"/content/api/v4/tools-menu/has-permission?portalId="+this.portalId;this.jsonp(o,function(o){o.has_permission&&e.getAppLinks(t,n,e.portalId)})}}},{key:"getAppLinks",value:function(e,t,n){var o=this;this.jsonp(this.baseUrl+"/content/api/v4/tools-menu/"+e+"/"+t+"/actions?portalId="+n,function(e){e.actions&&o.showAppLinks(e.actions)})}},{key:"showAppLinks",value:function(e){var t=[].slice.call(document.querySelectorAll("[data-sitemap-name]")).filter(function(e){return!!e.getAttribute("data-sitemap-name").trim()});null!==(t.length>0?t[0]:null)&&e.push(["Edit Navigation Menu",this.baseUrl+"/settings/"+this.portalId+"/marketing/web-pages/all-domains/navigation"]);var n="";e.forEach(function(e){n+="        <li><a target='_blank' href='"+e[1]+"'>\n        "+e[0]+"\n        </a></li>      "});var o='\n      <div class="hs-tools-menu hs-collapsed">\n        <img class="hs-sprocket" src="https://cdn2.hubspot.net/static/sprocket_white_80.png" />\n          <div class="hs-dropdown">\n          <div class="hs-title">HubSpot Tools</div>\n            <ul>\n              '+n+'\n            <li class="hs-menu-hider"><a>Hide This Menu</a></li>\n            </ul>\n        </div>\n        </div>\n      ';document.body.appendChild(this.createElementFromHTML(o));this.registerEvents()}},{key:"registerEvents",value:function(){var e=document.querySelector(".hs-tools-menu");this.registerDropdown(e);e.querySelector(".hs-menu-hider").addEventListener("click",function(t){t.stopPropagation();e.style.display="none"})}},{key:"registerDropdown",value:function(e){var t=function(){e.classList.add("hs-collapsed")},n=function(){e.classList.remove("hs-collapsed")},o=function e(){t();document.body.removeEventListener("click",e)},i=function(i){if(!i.target.getAttribute("href")){i.preventDefault();i.stopPropagation();if(e.classList.contains("hs-collapsed")){n();document.body.addEventListener("click",o)}else{t();document.body.removeEventListener("click",o)}}};e.addEventListener("click",i,!1)}}]);return e}();t.default=s;e.exports=t.default},function(e,t,n){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(e,o.key,o)}}return function(t,n,o){n&&e(t.prototype,n);o&&e(t,o);return t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){i(this,e);this.showAllFilterLinks=this.showAllFilterLinks.bind(this)}o(e,[{key:"setup",value:function(){var e=document.querySelector(".filter-expand-link");e&&e.addEventListener("click",this.showAllFilterLinks)}},{key:"showAllFilterLinks",value:function(e){document.querySelectorAll(".filter-expand-link").forEach(function(e){var t=e.previousElementSibling.children;t&&[].slice.call(t).forEach(function(e){e.style.display="block"});e.style.display="none"});e.preventDefault();e.stopPropagation()}}]);return e}();t.default=s;e.exports=t.default}]);
//# sourceMappingURL=index.js.map